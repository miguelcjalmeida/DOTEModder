<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema">

	<SimulationDescriptor Name="Hero" Type="Class">
		<SimulationPropertyDescriptors>
			<SimulationPropertyDescriptor Name="MaxHealth" Composition="Sum" />
			<SimulationPropertyDescriptor Name="HealthRegen" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DamageOverTime" Composition="Sum"/>
			<SimulationPropertyDescriptor Name="Defense" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DungeonHeroesDefensePCT" Composition="Sum" BaseValue="1"/>
			<SimulationPropertyDescriptor Name="HealFoodCostCoeff" Composition="Sum" BaseValue="0.025" />
			<SimulationPropertyDescriptor Name="HealthBarHeight" Composition="Sum" BaseValue="45" />

			<SimulationPropertyDescriptor Name="Wit" Composition="Sum" MinValue="1" />
			<SimulationPropertyDescriptor Name="RuinAnalysisWit" />
			<SimulationPropertyDescriptor Name="OperateWit" />
			<SimulationPropertyDescriptor Name="RepairWit" />

			<SimulationPropertyDescriptor Name="MoveSpeed" Composition="Sum" MinValue="5" />
			<!-- Displayed value -->
			<SimulationPropertyDescriptor Name="MoveSpeedReal" />
			<!-- World move computation value -->
			<SimulationPropertyDescriptor Name="ZoneControlAffected" BaseValue="1" />
			<SimulationPropertyDescriptor Name="StayInRoom" BaseValue="1" />

			<SimulationPropertyDescriptor Name="AttackRange" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackPower" Composition="Sum" />
			<SimulationPropertyDescriptor Name="MaximumAttackPower" Composition="Sum" BaseValue="999" />
			<SimulationPropertyDescriptor Name="AttackHitCount" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackCooldown" Composition="Sum" />
			<SimulationPropertyDescriptor Name="ZoneAttackRadius" Composition="Sum" MinValue="Negative" />
			<SimulationPropertyDescriptor Name="ZoneAttackPowerOnMobs" Composition="Sum" />
			<SimulationPropertyDescriptor Name="ZoneAttackPowerOnHeroes" Composition="Sum" />
			<SimulationPropertyDescriptor Name="ZoneAttackPowerOnModules" Composition="Sum" />
			<SimulationPropertyDescriptor Name="ZoneAttackPowerOnNPCs" Composition="Sum" />

      <SimulationPropertyDescriptor Name="Skill_A0039_ZoneAttackRadius" Composition="Sum" />
      <SimulationPropertyDescriptor Name="Skill_A0039_AttackPower" Composition="Sum" />

			<SimulationPropertyDescriptor Name="IsAttackedByOneMob" BaseValue="0" />
			<SimulationPropertyDescriptor Name="PopulationWeight" BaseValue="1.75" Composition="Sum" />

			<SimulationPropertyDescriptor Name="SupportHealingEffect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="SupportBoosterEffect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="SupportSonarEffect" Composition="Sum" />

			<SimulationPropertyDescriptor Name="RadioPassiveSkillUnlocked" Composition="Sum" />
      <SimulationPropertyDescriptor Name="RadioPassiveSkillUnlockedRegenHardBonus" Composition="Sum" />
      <SimulationPropertyDescriptor Name="RadioPassiveSkillUnlockedRegenPercentBonus" Composition="Sum" BaseValue="0.123" />
      <SimulationPropertyDescriptor Name="RadioPassiveSkillUnlockedAttackPowerHeroes" Composition="Sum" BaseValue="0.123" />
      <SimulationPropertyDescriptor Name="RadioPassiveSkillUnlockedAttackPowerModules" Composition="Sum" BaseValue="0.123" />

			<!-- Trainer TamedMob AttackPower share -->
			<SimulationPropertyDescriptor Name="AttackPowerHeroCoef" BaseValue="0.1" />
			<SimulationPropertyDescriptor Name="AttackPowerHeroBefore" BaseValue="0" />
			<SimulationPropertyDescriptor Name="AttackPowerHeroAfter" BaseValue="0" />
			<SimulationPropertyDescriptor Name="ShareDpsPassiveSkillIsActive" BaseValue="0" />

			<!-- Skills effects -->
			<SimulationPropertyDescriptor Name="Skill_P0011_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_P0031_Effect" Composition="Sum" MaxValue="1" />
			<SimulationPropertyDescriptor Name="Skill_P0048_Effect_AttackPower" Composition="Sum" />
      <SimulationPropertyDescriptor Name="Skill_P0048_Effect_Defense" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0002_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0006_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0013_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0016_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0019_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0022_Effect" Composition="Sum" MaxValue="1" />
			<SimulationPropertyDescriptor Name="Skill_A0025_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0027_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0031_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0033_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0034_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="Skill_A0039_Effect" Composition="Sum" />
			<SimulationPropertyDescriptor Name="FISBonusPerRoomMobKilled" Composition="Sum" />
			<SimulationPropertyDescriptor Name="MobTaming" Composition="Sum" />
			<SimulationPropertyDescriptor Name="MobTamedHealPct" Composition="Sum" />
			<SimulationPropertyDescriptor Name="LifeHealPctOnRespawn" Composition="Sum" />
			<SimulationPropertyDescriptor Name="RespawnRoomCount" Composition="Sum" />
      <SimulationPropertyDescriptor Name="OrganicNoRegenEffect" BaseValue="1" />
      <SimulationPropertyDescriptor Name="OrganicReplaceByDefenseEffect" BaseValue="0" />
      <SimulationPropertyDescriptor Name="InfirmaryNoRegenEffect" BaseValue="1" />
      <SimulationPropertyDescriptor Name="InfirmaryReplaceByDefenseEffect" BaseValue="0" />
      <SimulationPropertyDescriptor Name="HealthRegenBool" BaseValue="0" MaxValue="1" />
      <SimulationPropertyDescriptor Name="DefenseBool" BaseValue="0" MaxValue="1" />
     
      
      <!-- EL to DotE item skills -->
      <SimulationPropertyDescriptor Name="HealthRegenBonusFromMobs" Composition="Sum" />
      <SimulationPropertyDescriptor Name="HealthRegenBonusPerMobInRoom" />
      <SimulationPropertyDescriptor Name="InflictTroubledChance" Composition="Sum" />
      <SimulationPropertyDescriptor Name="InflictPoisonChance" Composition="Sum" />
      <SimulationPropertyDescriptor Name="Skill_P0500_Effect" Composition="Sum" />
      <SimulationPropertyDescriptor Name="Skill_P0501_Effect" Composition="Sum" />

			<!-- Skills related properties -->
			<SimulationPropertyDescriptor Name="RepairCapacity" Composition="Sum" />
			<SimulationPropertyDescriptor Name="OperateCapacity" Composition="Sum" />

			<SimulationPropertyDescriptor Name="RoomDustBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="RuinAnalysisWitBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="FoodBonusPerMobKilled" Composition="Sum" />
			<SimulationPropertyDescriptor Name="IndustryBonusPerMobKilled" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DefenseBonusPerMobKilled" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DefenseBonusPerMobKilled_Max" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DefenseBonusPerMobKilled_TimeMalus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="DefenseBonusFromMobKills" />
      
			<!-- Computed by code using DefenseBonusPerMobKilled/MaxValue/TimeMalus -->
			<SimulationPropertyDescriptor Name="AttackBonusPerMobKilled" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackBonusPerMobKilled_Max" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackBonusPerMobKilled_TimeMalus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackBonusFromMobKills" />
			<!-- Computed by code using AttackBonusPerMobKilled/MaxValue/TimeMalus -->
			<SimulationPropertyDescriptor Name="MobsAggro" Composition="Sum" />
			<!-- Boolean -->
			<SimulationPropertyDescriptor Name="Stealth" Composition="Sum" />
			<!-- Boolean -->
			<SimulationPropertyDescriptor Name="NotPacifist" BaseValue="1" />
			<!-- Boolean -->
			<SimulationPropertyDescriptor Name="Invincible" MaxValue="1" />
			<!-- Boolean -->
			<SimulationPropertyDescriptor Name="RepairFirst" MaxValue="1" />
			<!-- Boolean -->
			<!--<SimulationPropertyDescriptor Name="NoCrystalCarryDescriptor" MaxValue="1" />-->
      <SimulationPropertyDescriptor Name="CrystalCarryMalusReductionSkillIsActive" BaseValue="0" />
      <SimulationPropertyDescriptor Name="CrystalCarryMalusReductionToDivide" BaseValue="0" />
      <SimulationPropertyDescriptor Name="CrystalCarryMalusReductionIsDivided" BaseValue="0" />
      <SimulationPropertyDescriptor Name="CrystalCarryMalusReduction" BaseValue="0" />
      <!-- Boolean -->
			
			<SimulationPropertyDescriptor Name="AttackPowerBonusFromMobs" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusFromMobsMax" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusPerMobInRoom" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusFromHeroes" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusPerHeroInRoomMinusOne" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusToDivideByHeroes" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackPowerIfAlone" />
			<SimulationPropertyDescriptor Name="AttackPowerHeroesInDungeonIfWithoutMob" /> 
			<SimulationPropertyDescriptor Name="AttackPowerHeroesInDungeonIfWithoutMob_tooltip" />
			<!-- same value than above, fake property for tooltip -->
			<SimulationPropertyDescriptor Name="AttackBurnDamage" />
			<SimulationPropertyDescriptor Name="AttackBurnDuration" />
			<SimulationPropertyDescriptor Name="MoveSpeedIfAlone" />
			<SimulationPropertyDescriptor Name="MoveSpeedIfNotAlone" />
			<SimulationPropertyDescriptor Name="AttackCooldownBonusWhenTargetedByMob" Composition="Sum" MinValue="Negative"/>
			<SimulationPropertyDescriptor Name="OperateWitBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="RepairWitBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="UnpoweredRoomMoveSpeedBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="UnpoweredRoomAttackPowerBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="PoweredRoomHealthRegenBonus" Composition="Sum" />
			<SimulationPropertyDescriptor Name="AttackPowerIfNotAlone" />
			<SimulationPropertyDescriptor Name="DefenseIfNotAlone" />
			<SimulationPropertyDescriptor Name="HealthRegenIfDarkRoomAndWithMob" />
			<SimulationPropertyDescriptor Name="HealthRegenInPoweredRoom" />
			<SimulationPropertyDescriptor Name="DefenseInPoweredRoom" />
			<SimulationPropertyDescriptor Name="InstantDamageOverTime" Composition="Sum" />
			<!-- to differentiate the effect in tooltip -->
			<SimulationPropertyDescriptor Name="AttackPowerIfActiveArtifact" />
			<SimulationPropertyDescriptor Name="MoveSpeedIfActiveArtifact" />
			<SimulationPropertyDescriptor Name="AttackPowerIfPrisonerRoom" />
			<SimulationPropertyDescriptor Name="AttackPowerIfPrisonerRoom_tooltip" />
			<SimulationPropertyDescriptor Name="DefenseIfCrewRoom" />
			<SimulationPropertyDescriptor Name="DefenseIfCrewRoom_tooltip" />
			<SimulationPropertyDescriptor Name="IsAtPeace" MaxValue="1" />
			<SimulationPropertyDescriptor Name="MoveSpeedMultiplierInToxicCloud" MinValue="Negative" />
			<SimulationPropertyDescriptor Name="MoveSpeedFinalMultiplierInToxicCloud" BaseValue="1" />
			<SimulationPropertyDescriptor Name="AttackCooldownMultiplierInToxicCloud" MinValue="Negative" />
			<SimulationPropertyDescriptor Name="AttackCooldownFinalMultiplierInToxicCloud" BaseValue="1" />
			<SimulationPropertyDescriptor Name="ToxicCloudAffected" BaseValue="1" />
			<SimulationPropertyDescriptor Name="SpeedBonusPerHealthRegen" />
			<SimulationPropertyDescriptor Name="SpeedBonusFromHealthRegen" />
			<SimulationPropertyDescriptor Name="SpeedBonusFromHealthRegenMax" />

			<SimulationPropertyDescriptor Name="HydraEffect" Composition="Sum" BaseValue="1" MinValue="0.5" />
			<!-- Capped Speed reduction by Hydra mob -->

			<!-- Stele -->
			<SimulationPropertyDescriptor Name="ModuleAttackPowerPercentByWitIfAlone" />
			<SimulationPropertyDescriptor Name="HealthRegenIfAlone" />

			<!-- Modified by parent room or dungeon-->
			<SimulationPropertyDescriptor Name="RoomMobCount" />
			<SimulationPropertyDescriptor Name="RoomHeroCount" />
			<SimulationPropertyDescriptor Name="IsRoomUnpowered" />
			<SimulationPropertyDescriptor Name="IsRoomPowered" BaseValue="0" />
			<SimulationPropertyDescriptor Name="InPrisonerRoom" MaxValue="1" />
			<SimulationPropertyDescriptor Name="InCrewRoom" MaxValue="1" />
			<SimulationPropertyDescriptor Name="AllowHealthRegenPassive" BaseValue="1" />
			<!-- for Infirmary -->
			<SimulationPropertyDescriptor Name="ResearchingBP" />
			<!-- for Infirmary -->

			<!-- Used to count heroes in parent room -->
			<SimulationPropertyDescriptor Name="HeroCount" BaseValue="1" />
			<SimulationPropertyDescriptor Name="PrisonerCount" />
			<SimulationPropertyDescriptor Name="CrewCount" />

			<!-- Zone Control -->
			<SimulationPropertyDescriptor Name="ZoneControlMalus" BaseValue="0.25" />
			<!-- Set here the Zone Control malus [(1 - X) * Speed] -->
			<SimulationPropertyDescriptor Name="ZoneControlActive" />
			<SimulationPropertyDescriptor Name="ZoneControlMalusToApply" BaseValue="1" />

			<!-- Temporary properties -->
			<SimulationPropertyDescriptor Name="RoomHeroCountMinusOne" />
			<SimulationPropertyDescriptor Name="IsNotAlone" MaxValue="1"/>
			<SimulationPropertyDescriptor Name="IsAlone" MinValue="Negative" />

			<SimulationPropertyDescriptor Name="IsWithMob" MaxValue="1"/>
			<SimulationPropertyDescriptor Name="IsWithoutMob" MinValue="Negative" />

			<SimulationPropertyDescriptor Name="HealthRegenTemp" />
			<SimulationPropertyDescriptor Name="HealthRegenIfAllow" />
			<SimulationPropertyDescriptor Name="DisallowHealthRegenPassive" />

			<SimulationPropertyDescriptor Name="ModuleAttackPowerIfAlone" />
			<SimulationPropertyDescriptor Name="ModuleAttackPowerPercentIfAlone" />

			<SimulationPropertyDescriptor Name="AttackPowerBonusFromMobsBool" MaxValue="1" MinValue="0" />
			<SimulationPropertyDescriptor Name="AttackPowerBonusFromMobsBoolInv" MaxValue="1" MinValue="0" />

			<SimulationPropertyDescriptor Name="SpeedBonusPerHealthRegenBool" MaxValue="1" MinValue="0" />
			<SimulationPropertyDescriptor Name="SpeedBonusPerHealthRegenBoolInv" MaxValue="1" MinValue="0" />

		</SimulationPropertyDescriptors>

		<SimulationModifierDescriptors>
			<BinarySimulationModifierDescriptor TargetProperty="IsRoomPowered" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(IsRoomUnpowered)" />

			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(PoweredRoomHealthRegenBonus)" BinaryOperation="Multiplication" Right="$(IsRoomPowered)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(UnpoweredRoomMoveSpeedBonus)" BinaryOperation="Multiplication" Right="$(IsRoomUnpowered)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(UnpoweredRoomAttackPowerBonus)" BinaryOperation="Multiplication" Right="$(IsRoomUnpowered)" />

			<SimulationModifierDescriptor TargetProperty="RuinAnalysisWit" Operation="Addition" Value="$(Wit)" />
			<SimulationModifierDescriptor TargetProperty="RuinAnalysisWit" Operation="Addition" Value="$(RuinAnalysisWitBonus)" />

			<SimulationModifierDescriptor TargetProperty="OperateWit" Operation="Addition" Value="$(Wit)" />
			<SimulationModifierDescriptor TargetProperty="OperateWit" Operation="Addition" Value="$(OperateWitBonus)" />

			<SimulationModifierDescriptor TargetProperty="RepairWit" Operation="Addition" Value="$(Wit)" />
			<SimulationModifierDescriptor TargetProperty="RepairWit" Operation="Addition" Value="$(RepairWitBonus)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerBonusFromMobs" Operation="Addition" Left="$(AttackPowerBonusPerMobInRoom)" BinaryOperation="Multiplication" Right="$(RoomMobCount)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerBonusFromMobsBool" Operation="Addition" Left="$(AttackPowerBonusFromMobsMax)" BinaryOperation="Subtraction" Right="$(AttackPowerBonusFromMobs)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerBonusFromMobsBoolInv" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(AttackPowerBonusFromMobsBool)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(AttackPowerBonusFromMobsBool)" BinaryOperation="Multiplication" Right="$(AttackPowerBonusFromMobs)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(AttackPowerBonusFromMobsBoolInv)" BinaryOperation="Multiplication" Right="$(AttackPowerBonusFromMobsMax)" />	

			<SimulationModifierDescriptor TargetProperty="RoomHeroCountMinusOne" Operation="Addition" Value="$(RoomHeroCount)" />
			<SimulationModifierDescriptor TargetProperty="RoomHeroCountMinusOne" Operation="Addition" Value="-1" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerBonusFromHeroes" Operation="Addition" Left="$(AttackPowerBonusPerHeroInRoomMinusOne)" BinaryOperation="Multiplication" Right="$(RoomHeroCountMinusOne)" />

			<SimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Value="$(AttackPowerBonusFromHeroes)" />

			<SimulationModifierDescriptor TargetProperty="Defense" Operation="Multiplication" Value="$(DungeonHeroesDefensePCT)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(AttackPowerBonusToDivideByHeroes)" BinaryOperation="Division" Right="$(RoomHeroCount)" />

      <!-- EL to DotE item skills -->
      <BinarySimulationModifierDescriptor TargetProperty="HealthRegenBonusFromMobs" Operation="Addition" Left="$(HealthRegenBonusPerMobInRoom)" BinaryOperation="Multiplication" Right="$(RoomMobCount)" />
      <BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(HealthRegenBonusFromMobs)" BinaryOperation="Multiplication" Right="$(Skill_P0501_Effect)" />

			<!-- Toxic Cloud -->
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeedFinalMultiplierInToxicCloud" Operation="Addition" Left="$(MoveSpeedMultiplierInToxicCloud)" BinaryOperation="Multiplication" Right="$(ToxicCloudAffected)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackCooldownFinalMultiplierInToxicCloud" Operation="Addition" Left="$(AttackCooldownMultiplierInToxicCloud)" BinaryOperation="Multiplication" Right="$(ToxicCloudAffected)" />
			<SimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Multiplication" Value="$(MoveSpeedFinalMultiplierInToxicCloud)" />
			<SimulationModifierDescriptor TargetProperty="AttackCooldown" Operation="Multiplication" Value="$(AttackCooldownFinalMultiplierInToxicCloud)" />

			<!-- Computation "is Alone" (one hero) -->
			<SimulationModifierDescriptor TargetProperty="IsNotAlone" Operation="Addition" Value="$(RoomHeroCountMinusOne)" />
			<BinarySimulationModifierDescriptor TargetProperty="IsAlone" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(IsNotAlone)" />

			<!-- Computation "is Without Mob" (one hero) -->
			<SimulationModifierDescriptor TargetProperty="IsWithMob" Operation="Addition" Value="$(RoomMobCount)" />
			<BinarySimulationModifierDescriptor TargetProperty="IsWithoutMob" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(IsWithMob)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(IsAlone)" BinaryOperation="Multiplication" Right="$(AttackPowerIfAlone)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(IsAlone)" BinaryOperation="Multiplication" Right="$(MoveSpeedIfAlone)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(IsNotAlone)" BinaryOperation="Multiplication" Right="$(MoveSpeedIfNotAlone)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackCooldown" Operation="Addition" Left="$(AttackCooldownBonusWhenTargetedByMob)" BinaryOperation="Multiplication" Right="$(IsAttackedByOneMob)" />

			<SimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Value="$(DefenseBonusFromMobKills)" />
			<SimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Value="$(AttackBonusFromMobKills)" />

			<SimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Multiplication" Value="$(HydraEffect)" />

			<!-- Zone Control -->
			<BinarySimulationModifierDescriptor TargetProperty="ZoneControlActive" Operation="Addition" Left="$(ZoneControlAffected)" BinaryOperation="Multiplication" Right="$(IsWithMob)" />
			<BinarySimulationModifierDescriptor TargetProperty="ZoneControlMalusToApply" Operation="Subtraction" Left="$(ZoneControlActive)" BinaryOperation="Multiplication" Right="$(ZoneControlMalus)" />
			<SimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Multiplication" Value="$(ZoneControlMalusToApply)" />

			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeedReal" Operation="Addition" Left="$(MoveSpeed)" BinaryOperation="Multiplication" Right="0.1" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(IsWithoutMob)" BinaryOperation="Multiplication" Right="$(AttackPowerHeroesInDungeonIfWithoutMob)" Path="../Dungeon/Room/Hero" />
			<BinarySimulationModifierDescriptor TargetProperty="Skill_A0022_Effect" Operation="Addition" Left="$(IsWithoutMob)" BinaryOperation="Multiplication" Right="$(AttackPowerHeroesInDungeonIfWithoutMob)" Path="../Dungeon/Room/Hero" />

			<BinarySimulationModifierDescriptor TargetProperty="HealthRegenTemp" Operation="Addition" Left="$(IsWithMob)" BinaryOperation="Multiplication" Right="$(HealthRegenIfDarkRoomAndWithMob)" />
			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(IsRoomUnpowered)" BinaryOperation="Multiplication" Right="$(HealthRegenTemp)" />
			<BinarySimulationModifierDescriptor TargetProperty="Skill_P0031_Effect" Operation="Addition" Left="$(IsRoomUnpowered)" BinaryOperation="Multiplication" Right="$(HealthRegenTemp)" />
			
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(RoomMobCount)" BinaryOperation="Multiplication" Right="$(Skill_P0048_Effect_AttackPower)" />
			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(RoomMobCount)" BinaryOperation="Multiplication" Right="$(Skill_P0048_Effect_Defense)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(IsNotAlone)" BinaryOperation="Multiplication" Right="$(AttackPowerIfNotAlone)" />
			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(IsNotAlone)" BinaryOperation="Multiplication" Right="$(DefenseIfNotAlone)" />
			

			<SimulationModifierDescriptor TargetProperty="DamageOverTime" Operation="Addition" Value="$(InstantDamageOverTime)" />

			<BinarySimulationModifierDescriptor TargetProperty="HealthRegenIfAllow" Operation="Addition" Left="$(IsRoomPowered)" BinaryOperation="Multiplication" Right="$(HealthRegenInPoweredRoom)" />
			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(HealthRegenIfAllow)" BinaryOperation="Multiplication" Right="$(AllowHealthRegenPassive)" />

			<BinarySimulationModifierDescriptor TargetProperty="DisallowHealthRegenPassive" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(AllowHealthRegenPassive)" />
			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(DisallowHealthRegenPassive)" BinaryOperation="Multiplication" Right="$(HealthRegenIfAllow)" />
			<!-- If disallow => becomes Defence -->

			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(IsRoomPowered)" BinaryOperation="Multiplication" Right="$(DefenseInPoweredRoom)" />

			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Addition" Left="$(AttackPowerIfActiveArtifact)" BinaryOperation="Multiplication" Right="$(ResearchingBP)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(MoveSpeedIfActiveArtifact)" BinaryOperation="Multiplication" Right="$(ResearchingBP)" />

			<BinarySimulationModifierDescriptor TargetProperty="InPrisonerRoom" Operation="Addition" Left="$(RoomHeroCountMinusOne)" BinaryOperation="Multiplication" Right="$(IsAtPeace)" />
			<BinarySimulationModifierDescriptor TargetProperty="InCrewRoom" Operation="Addition" Left="$(RoomHeroCountMinusOne)" BinaryOperation="Multiplication" Right="$(IsAtPeace)" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Percent" Left="$(AttackPowerIfPrisonerRoom)" BinaryOperation="Multiplication" Right="$(InPrisonerRoom)" />
			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Percent" Left="$(DefenseIfCrewRoom)" BinaryOperation="Multiplication" Right="$(InCrewRoom)" />

			<!-- Stele -->
			<BinarySimulationModifierDescriptor TargetProperty="ModuleAttackPowerIfAlone" Operation="Addition" Left="$(ModuleAttackPowerPercentByWitIfAlone)" BinaryOperation="Multiplication" Right="$(Wit)" />
			<BinarySimulationModifierDescriptor TargetProperty="ModuleAttackPowerPercentIfAlone" Operation="Addition" Left="$(ModuleAttackPowerIfAlone)" BinaryOperation="Multiplication" Right="0.01" />
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Percent" Left="$(ModuleAttackPowerPercentIfAlone)" BinaryOperation="Multiplication" Right="$(IsWithoutMob)" Path="../Dungeon/Room/MinorModule" />
			<BinarySimulationModifierDescriptor TargetProperty="ZoneAttackPowerOnMobs" Operation="Percent" Left="$(ModuleAttackPowerPercentIfAlone)" BinaryOperation="Multiplication" Right="$(IsWithoutMob)" Path="../Dungeon/Room/MinorModule" />

			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(HealthRegenIfAlone)" BinaryOperation="Multiplication" Right="$(IsWithoutMob)" />

			<BinarySimulationModifierDescriptor TargetProperty="SpeedBonusFromHealthRegen" Operation="Addition" Left="$(SpeedBonusPerHealthRegen)" BinaryOperation="Multiplication" Right="$(HealthRegen)" />
			<BinarySimulationModifierDescriptor TargetProperty="SpeedBonusPerHealthRegenBool" Operation="Addition" Left="$(SpeedBonusFromHealthRegenMax)" BinaryOperation="Subtraction" Right="$(SpeedBonusFromHealthRegen)" />
			<BinarySimulationModifierDescriptor TargetProperty="SpeedBonusPerHealthRegenBoolInv" Operation="Addition" Left="1" BinaryOperation="Subtraction" Right="$(SpeedBonusPerHealthRegenBool)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(SpeedBonusPerHealthRegenBool)" BinaryOperation="Multiplication" Right="$(SpeedBonusFromHealthRegen)" />
			<BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Addition" Left="$(SpeedBonusPerHealthRegenBoolInv)" BinaryOperation="Multiplication" Right="$(SpeedBonusFromHealthRegenMax)" />	

			<BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(Invincible)" BinaryOperation="Multiplication" Right="9000" />
			<!-- Over 9000! -->

			<SimulationModifierDescriptor TargetProperty="AttackPower" Operation="Multiplication" Value="$(NotPacifist)" />
			<SimulationModifierDescriptor TargetProperty="ZoneAttackPowerOnMobs" Operation="Multiplication" Value="$(NotPacifist)" />
			<SimulationModifierDescriptor TargetProperty="ZoneAttackPowerOnHeroes" Operation="Multiplication" Value="$(NotPacifist)" />
			<SimulationModifierDescriptor TargetProperty="ZoneAttackPowerOnModules" Operation="Multiplication" Value="$(NotPacifist)" />
			<SimulationModifierDescriptor TargetProperty="ZoneAttackPowerOnNPCs" Operation="Multiplication" Value="$(NotPacifist)" />

			<!-- Tamed mob AttackPower share -->
			<!-- Level 1 -->
			<SimulationModifierDescriptor TargetProperty="AttackPowerHeroBefore" Operation="Addition" Value="$(ShareDpsPassiveSkillIsActive)" />
			<!-- Checks if skill is unlocked -->
			<!--<SimulationModifierDescriptor TargetProperty="AttackPowerHeroBefore" Operation="Multiplication" Value="$(AttackPowerHeroCoef)" />-->
      <BinarySimulationModifierDescriptor TargetProperty="AttackPowerHeroBefore" Operation="Multiplication" Left="$(AttackPowerHeroCoef)" BinaryOperation="Division" Right="100" />
			<!-- Applies coef -->
			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerHeroAfter" Operation="Addition" Left="$(AttackPower)" BinaryOperation="Multiplication" Right="$(AttackPowerHeroBefore)" />
			<!-- Gives Hero attack power taking into account the coef -->
			<BinarySimulationModifierDescriptor TargetProperty="AttackPowerTamedMob" Operation="Addition" Left="$(ShareDpsPassiveSkillIsActive)" BinaryOperation="Multiplication" Right="$(AttackPowerHeroAfter)" Path="../Dungeon/Room/Mob" />
			<!-- Sends Hero attack power to TamedMob -->

		</SimulationModifierDescriptors>
	</SimulationDescriptor>

	<!-- Applied when a hero operates a module for at least 1 turn -->
	<SimulationDescriptor Name="Hero_Operating_Bonus" Type="HeroLevel">
		<SimulationModifierDescriptors>
			<SimulationModifierDescriptor TargetProperty="OperateWit" Operation="Multiplication" Value="1"/>
		</SimulationModifierDescriptors>
	</SimulationDescriptor>

	<!-- Applied when the RO operates a food module for at least 1 turn -->
	<SimulationDescriptor Name="Hero_Operating_Bonus_MajorModule_Major0001" Type="HeroLevel">
		<SimulationModifierDescriptors>
      <BinarySimulationModifierDescriptor TargetProperty="HealthRegenBool" Operation="Addition" Left="$(InfirmaryNoRegenEffect)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlocked)" Path="../Dungeon/Room/Hero" />
			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Addition" Left="$(HealthRegenBool)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedRegenHardBonus)" Path="../Dungeon/Room/Hero" />
			<BinarySimulationModifierDescriptor TargetProperty="HealthRegen" Operation="Percent" Left="$(HealthRegenBool)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedRegenPercentBonus)" Path="../Dungeon/Room/Hero" />
      <BinarySimulationModifierDescriptor TargetProperty="DefenseBool" Operation="Addition" Left="$(InfirmaryReplaceByDefenseEffect)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlocked)" Path="../Dungeon/Room/Hero" />
      <BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Addition" Left="$(DefenseBool)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedRegenHardBonus)" Path="../Dungeon/Room/Hero" />
      <BinarySimulationModifierDescriptor TargetProperty="Defense" Operation="Percent" Left="$(DefenseBool)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedRegenPercentBonus)" Path="../Dungeon/Room/Hero" />
		</SimulationModifierDescriptors>
	</SimulationDescriptor>

	<!-- Applied when the RO operates an industry module for at least 1 turn -->
	<SimulationDescriptor Name="Hero_Operating_Bonus_MajorModule_Major0002" Type="HeroLevel">
		<SimulationModifierDescriptors>
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Percent" Left="$(RadioPassiveSkillUnlocked)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedAttackPowerHeroes)" Path="../Dungeon/Room/Hero" />
		</SimulationModifierDescriptors>
	</SimulationDescriptor>

	<!-- Applied when the RO operates a science module for at least 1 turn -->
	<SimulationDescriptor Name="Hero_Operating_Bonus_MajorModule_Major0003" Type="HeroLevel">
		<SimulationModifierDescriptors>
			<BinarySimulationModifierDescriptor TargetProperty="AttackPower" Operation="Percent" Left="$(RadioPassiveSkillUnlocked)" BinaryOperation="Multiplication" Right="$(RadioPassiveSkillUnlockedAttackPowerModules)" Path="../Room/MinorModule" />
		</SimulationModifierDescriptors>
	</SimulationDescriptor>

	<!-- Applied when a hero carries the crystal -->
	<SimulationDescriptor Name="HeroHasCrystal" Type="HeroFlag">
		<SimulationModifierDescriptors>
      <BinarySimulationModifierDescriptor TargetProperty="CrystalCarryMalusReductionToDivide" Operation="Addition" Left="$(CrystalCarryMalusReductionSkillIsActive)" BinaryOperation="Multiplication" Right="$(CrystalCarryMalusReduction)" />
      <BinarySimulationModifierDescriptor TargetProperty="CrystalCarryMalusReductionIsDivided" Operation="Addition" Left="$(CrystalCarryMalusReductionToDivide)" BinaryOperation="Division" Right="100" />
      <BinarySimulationModifierDescriptor TargetProperty="MoveSpeed" Operation="Percent" Left="-0.6" BinaryOperation="Addition" Right="$(CrystalCarryMalusReductionIsDivided)" />
		</SimulationModifierDescriptors>
	</SimulationDescriptor>

</Datatable>